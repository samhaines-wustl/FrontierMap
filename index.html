<!DOCTYPE html>
<html lang="en">

<head>

  <link rel="stylesheet" href="main.css">

  <link rel="icon" type="image/png" href="favicon/favicon-96x96.png" sizes="96x96" />
  <link rel="icon" type="image/svg+xml" href="favicon/favicon.svg" />
  <link rel="shortcut icon" href="favicon/favicon.ico" />
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/showdown/2.1.0/showdown.min.js"></script>
</head>

<body>
  <div class = "container">
    <div id="svgContainer" class="map">
      <svg id="svgMap" height="2048" width="2048">
        <defs>
          <filter id="rounded-corners" x="-5%" width="110%" y="0%" height="100%">
            <feFlood flood-color="#FFAA55"/>
            <feGaussianBlur stdDeviation="2"/>
            <feComponentTransfer>
              <feFuncA type="table"tableValues="0 0 0 1"/>
            </feComponentTransfer>

            <feComponentTransfer>
              <feFuncA type="table"tableValues="0 1 1 1 1 1 1 1"/>
            </feComponentTransfer>
            <feComposite operator="over" in="SourceGraphic"/>
          </filter>
          
          <filter id="rounded-corners-2" primitiveUnits="objectBoundingBox">
            <feImage preserveAspectRatio="none" width="110%" height="110%" x="-5%" y="0%"  xlink:href="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' x='0px' y='0px' viewBox='0 0 400 40' height='40' width='400'%3E%3Crect fill='lightsteelblue' x='0' y='0' rx='10' ry='10' width='400' height='40'/%3E%3C/svg%3E"/>
            <feComposite operator="over" in="SourceGraphic"/>
          </filter> 

        </defs>
        <g id="zoom">
          <image
            height="2048"
            width="2048"
            href="images/mapBase.webp"
          />
        </g>
        <g id="allBiomesGroup">

        </g>
        <g id="allIconGroup">

        </g>
        <g id="allTravelLinesGroup">

        </g>
        <g id="gridGroup">

        </g>
      </svg>
    </div>

    <div id= "informationTextBox" class="information">Information Here

    </div>

    <div class="distance-calc">

      Start:<select id="distanceCalculationStart" class="distance-location-select">
        <option value="Nothing Selected">Nothing Selected</option>
      </select>
      End:<select id="distanceCalculationEnd" class="distance-location-select">
        <option value="Nothing Selected">Nothing Selected</option>
      </select>
      <button id="distanceCalculate">Calculate Distance</button>

      <br>

      <table class="distTableStyling" id="distanceTable">
        <thead>
          <tr>
            <th>Starting</th>
            <th>Ending</th>
            <th>Miles</th>
            <th>Remove</th>
          </tr>
        </thead>
        <tbody id = "distanceTableBody">

        </tbody>
      </table>

    </div>

    <div class="settings">
      <button id="resetView">Reset View</button><br>
      <input type="range" min="8" max="64" value="16" id = "fontSizeSlider">Font Size: <span id="fontSizeDisplay">16</span>px <br>
      <input type="range" min="8" max="128" value="32" id = "iconSizeSlider">Icon Size: <span id="iconSizeDisplay">32</span>px <br>
      <input type="range" min="0" max="1" value=".3" step=".01" id = "opacitySlider">Opacity: <span id="opacityDisplay">.3</span> <br>
      <button id="startSearch">Search Location</button><input type="text" id="searchTextInput"> <br><br>
      <div>
        <label class="switch">
          <input type="checkbox" id="toggleBiomes">
          <span class="slider"></span>
        </label>
        Show Biomes
      </div>
      <div>
        <label class="switch">
          <input type="checkbox" id="toggleText">
          <span class="slider"></span>
        </label>
        Show Text
      </div>
      <div>
        <label class="switch">
          <input type="checkbox" id="toggleGrid">
          <span class="slider"></span>
        </label>
        Show Grid
      </div>
    </div>

    <div class="profile-select">
      Profile: 
      <select id="profileSelect"></select>
    </div>

    <div class="extra" style="font-size: 20px">
      <details id="biomeKeyDetail" style="font-size: 20px;">
          <summary>Biome Key</summary>
          <span style="color:#FFE97C" class="biome-key-color">&#9632</span>: Desert </br>
          <span style="color:#886BFF" class="biome-key-color">&#9632</span>: Flooded Valley </br>
          <span style="color:#FF3F4C" class="biome-key-color">&#9632</span>: Death Basin </br>
          <span style="color:#C3FF9E" class="biome-key-color">&#9632</span>: Nokomont Midlands </br>
          <span style="color:#FF96CC" class="biome-key-color">&#9632</span>: Mesa </br>
          <span style="color:#2DDFFF" class="biome-key-color">&#9632</span>: West Badlands </br>
          <span style="color:#FFFFFF" class="biome-key-color">&#9632</span>: Mountains </br>
        </details>

        <details style="font-size: 20px;" id="questDetail">
          <summary>Quests</summary>
        </details>

        <details style="font-size: 20px;">
          <summary>Horse Companion and Travel</summary>
          <span>
            Horse - 40ft <br>
            4 mph - 32 mi/day <br><br>
            <a href="https://pathfinder-animal-companion.com/horse" target="_blank">Horse Companion Stats</a><br><br>
            <b>How to Use</b>
            <ul>
              <li style="font-size: 20px;">Use <a href="https://2e.aonprd.com/Actions.aspx?ID=2400&Redirected=1" target="_blank">Command an Animal</a> and auto-succeed</li>
              <li>Horse has 2 actions to use. You trade 1 action to give your horse 2 actions.</li>
              <li>Support Benefit costs 1 action.</li>
              <li>Horse has death saves if it falls to 0.</li>
              <li>For mounted offense: you share the same space and MAP as your companion mount</li>
              <li>For mouunted defense: AoE attacks affect both, you gain lesser cover (+1 AC) and have a -2 circumstance penality to Reflex Saves</li>
              <li>More info on mounted combat: <a href="https://2e.aonprd.com/Rules.aspx?ID=2434&Redirected=1" target="_blank">Here</a></li>
            </ul>
        </span>
        </details>

        <details>
          <summary>Factions</summary>
          <span>
            <ul>
              <li>
                &#128367 Communion of the Lantern King
              </li>
              <li>
                &#9760 Jackie Foster's Wacko Boys
              </li>
              <li>
                &#9774 True World
              </li>
              <li>
                &#x1F591 Red Hand of Doom
              </li>
              <li>
                &#x1F74A Children of Wax
              </li>
              <li>
                &#x263D Bradfordites
              </li>
            </ul>
          </span>
        </details>
    </div>

  </div>
  
  <script src="./scripts/SuperHelper.js"></script>
  <script type="module" src="./scripts/Profiles.js"></script>
  <script type="module" src="./scripts/Quests.js"></script>
  <script type="module" src="./scripts/TravelLines.js"></script>
  <script type="module" src="./scripts/Locations.js"></script>
  <script type="module" src="./scripts/main.js"></script>
</body>

</html>
